@model WebApplication.Models.projects

@{
    ViewBag.Title = "Подробно";
}

<h2>Подробно</h2>

<div>
            <hr />
            <dl class="dl-horizontal">
                <dt>Создатель</dt>
                <dd>
                    @Html.DisplayFor(model => model.users.contacts.name) @Html.DisplayFor(model => model.users.contacts.lastname)
                </dd>

                <dt>Заезд</dt>
                <dd>
                    @if (Model.arrival != null)
                    {
                        @Convert.ToDateTime(Model.arrival).ToString("dd.MM.yyyy HH:mm")
                    }
                </dd>

                <dt>Монтаж</dt>
                <dd>
                    @if (Model.installation != null)
                    {
                        @Convert.ToDateTime(Model.installation).ToString("dd.MM.yyyy HH:mm")
                    }
                </dd>

                <dt>Репетиции</dt>
                <dd>
                    @if (Model.rehearsal != null)
                    {
                        @Convert.ToDateTime(Model.rehearsal).ToString("dd.MM.yyyy HH:mm")
                    }
                </dd>

                <dt>Начало</dt>
                <dd>
                    @if (Model.start != null)
                    {
                        @Convert.ToDateTime(Model.start).ToString("dd.MM.yyyy HH:mm")
                    }
                </dd>

                <dt>Конец</dt>
                <dd>
                    @if (Model.finish != null)
                    {
                        @Convert.ToDateTime(Model.finish).ToString("dd.MM.yyyy HH:mm")
                    }
                </dd>

                <dt>Демонтаж</dt>
                <dd>
                    @if (Model.deinstallation != null)
                    {
                        @Convert.ToDateTime(Model.deinstallation).ToString("dd.MM.yyyy HH:mm")
                    }
                </dd>

                <dt>Отъезд</dt>
                <dd>
                    @if (Model.departure != null)
                    {
                        @Convert.ToDateTime(Model.departure).ToString("dd.MM.yyyy HH:mm")
                    }
                </dd>

                <dt>Место</dt>
                <dd>
                    @Html.DisplayFor(model => model.places.name)
                </dd>

                <dt>Тип проекта</dt>
                <dd>
                    @Html.DisplayFor(model => model.type)
                </dd>

                <dt>Функция на проекте</dt>
                <dd>
                    @Html.DisplayFor(model => model.worktype)
                </dd>

                <dt>Исполнитель</dt>
                <dd>
                    @Html.DisplayFor(model => model.contacts1.name) @Html.DisplayFor(model => model.contacts1.lastname)
                </dd>

                <dt>Клиент</dt>
                <dd>
                    @Html.DisplayFor(model => model.contacts.name) @Html.DisplayFor(model => model.contacts.lastname)
                </dd>

                <dt>Организатор</dt>
                <dd>
                    @Html.DisplayFor(model => model.contacts2.name) @Html.DisplayFor(model => model.contacts2.lastname)
                </dd>

                <dt>Ведущий</dt>
                <dd>
                    @Html.DisplayFor(model => model.contacts3.name) @Html.DisplayFor(model => model.contacts3.lastname)
                </dd>

                <dt>Контент</dt>
                <dd>
                    @Html.DisplayFor(model => model.content)
                </dd>

                <dt>Заметки</dt>
                <dd>
                    @Html.DisplayFor(model => model.note)
                </dd>

                <dt>Приход (нал)</dt>
                <dd>
                    @Html.DisplayFor(model => model.receipts_cash)
                </dd>

                <dt>Приход (безнал)</dt>
                <dd>
                    @Html.DisplayFor(model => model.receipts_noncash)
                </dd>

                <dt>Расход (нал)</dt>
                <dd>
                    @Html.DisplayFor(model => model.expenditure_cash)
                </dd>

                <dt>Расход (безнал)</dt>
                <dd>
                    @Html.DisplayFor(model => model.expenditure_noncash)
                </dd>

                <dt>Прибыль (нал)</dt>
                <dd>
                    @Html.DisplayFor(model => model.profit_cash)
                </dd>

                <dt>Прибыль (безнал)</dt>
                <dd>
                    @Html.DisplayFor(model => model.profit_noncash)
                </dd>

                <dt>Прибыль (итого)</dt>
                <dd>
                    @Html.DisplayFor(model => model.profit_total)
                </dd>
            </dl>
    </div>
            @if (ViewBag.model.Count == 0)
            {
                if (Model.createrID.ToString() == ViewBag.UID || Model.createrID == null || ViewBag.status == "admin")
                {
                    <p>@Html.ActionLink("Добавить оборудование", "Index", "project_equipment", new { id = Model.projectID }, null)</p>
                }
            }
            else
            {
                <table class="table-bordered" cellpadding="5">
                    <caption ><b>Список оборудования</b></caption>
                    <tr>
                        <th align="center">Наименование</th>
                        <th align="center">Фирма</th>
                        <th align="center">Модель</th>
                        <th align="center">Количество</th>
                    </tr>
                    @for (int i = 0; i < ViewBag.model.Count; i++)
                    {
                        <tr>
                            <td>@ViewBag.name[i]</td>
                            <td>@ViewBag.brand[i]</td>
                            <td>@ViewBag.model[i]</td>
                            <td>@ViewBag.count[i]</td>
                        </tr>
                    }
                    <tr>
                        <td colspan="4" align="right">@Html.ActionLink("Подробно", "Index", "project_equipment", new { id = Model.projectID }, null)</td>
                    </tr>
                </table>
            }

<br />
    @if (Model.createrID.ToString() == ViewBag.UID || Model.createrID == null || ViewBag.status == "admin")
    {
        <p>
            @Html.ActionLink("Изменить", "Edit", new { id = Model.projectID }) |
            @Html.ActionLink("Удалить", "Delete", new { id = Model.projectID }) |
            @Html.ActionLink("Назад к списку проектов", "Index")
        </p>
    }
    else
    {
        <p>
            @Html.ActionLink("Назад к списку проектов", "Index")
        </p>
    }
